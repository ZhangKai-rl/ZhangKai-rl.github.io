# 引入原因

![](Pasted%20image%2020230526151721.png)
引入乐观方法。

>二阶段锁的缺点

- 等待而影响性能
- 是一种悲观的方法

![](Pasted%20image%2020230526151819.png)

# 课程内容

![](Pasted%20image%2020230526152253.png)

# basic T/O

![](Pasted%20image%2020230526152424.png)


![](Pasted%20image%2020230526152736.png)

## 问题

- 长事务饿死
- 产生不可恢复调度
- 会拷贝到txn本地，有高负载
![](Pasted%20image%2020230526160251.png)



# 解决幻读

mysql解决方案：间隙锁，

# 隔离级别

![](Pasted%20image%2020230526170453.png)
![](Pasted%20image%2020230526170530.png)

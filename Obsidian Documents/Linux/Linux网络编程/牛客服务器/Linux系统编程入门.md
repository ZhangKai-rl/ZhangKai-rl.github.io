> gcc

gcc -std=c99 ：启动gcc时，编译器支持C99标准。默认使用GNU C 
gcc/g++ -v/--version ：查看版本
-o：指定输出文件
gcc 文件名：编译文件，默认输出a.out
![](Pasted%20image%2020230222213139.png)
-L：库的路径 
-l：库的名称


> apt

ubuntu下的一个包管理器

> 快捷键

ctrl+l清空终端

linux中可执行程序都是绿色标识的
> GCC工作流程


![](Pasted%20image%2020230222212934.png)
1. 预处理阶段：删除注释，展开头文件，替换宏

> 小知识

Linux中可执行文件后缀为.out
env查看环境变量，同一变量不同值之间用冒号隔开,使用export临时添加环境变量
永久添加：
1. 用户级：在.bashrc中添加
2. 系统级：使用sudo命令在/etc/profile中添加

> 库

![](Pasted%20image%2020230222220544.png)
是一堆二进制
分别使用静态链接方式和动态链接方式。
>> 静态库

![](Pasted%20image%2020230222220856.png)
>> 动态库

![](Pasted%20image%2020230222223053.png)
![](Pasted%20image%2020230223115749.png)



> Linux命令

cp ：最后一个参数是目的dir，-r表示递归复制
ln  源文件 链接文件：创建链接。-s软链接，默认创建硬链接。
stat：显示文件状态
id 用户名：查看uid，gid，组名
umask ： 查看掩码
which：查看可直接执行的命令位置，-a返回所有匹配结果
whereis：不知可以查找命令，其他类型文件也可以
man：查看帮助文档，包括命令函数

# makefile
## 什么是makefile

定义了一系列规则来指定哪些文件先编译那些文件后编译。类似于shell脚本。使工程自动化编译，一旦写好只需要执行make命令。
## makefile文件命名和规则
![](Pasted%20image%2020230223122219.png)
如果第一天规则不依赖于其余规则，那么其余规则不会执行。
## 工作原理
![](Pasted%20image%2020230223122655.png)
更新指的是是否进行了修改文件。
## 变量
>自定义变量
>>变量名=变量值 var=hello
>预定义变量
>>![](Pasted%20image%2020230223125413.png)
## 模式匹配
![](Pasted%20image%2020230223130838.png)
## 函数
![](Pasted%20image%2020230223131040.png)
## 编写技巧
可以在makefile中加入命令如：
![](Pasted%20image%2020230223132138.png)
使用make clean即可运行执行命令。第一行表示clean为伪命令不生成文件
# GDB
## 什么是gdb
是GNU提供的调试工具
![](Pasted%20image%2020230223132352.png)
## 准备工作
关掉编译器优化选项-o，打开调试选项-g，打开warning -Wall
不是用-g无法执行gdb list；使用-g后只是找到了与源代码的对应关系，并不是加入了源文件
## gdb命令
![](Pasted%20image%2020230223132630.png)
断点操作
 ![](Pasted%20image%2020230223141902.png)
 调试命令
 ![](Pasted%20image%2020230223142946.png)

# Linux文件IO
## 准备工作
### 与C IO比较
![](Pasted%20image%2020230224134629.png)
- 标准C库（属于第三方库）可以跨平台（jvm也可以）
- 在linux使用fopen会调用Linux的IO函数，属于调用和被调用的关系。
- Linux IO是没有缓冲区的
- Linux中操作文件使用fd是int类型，c库使用的是FILE * 类型的句柄。
![](Pasted%20image%2020230224140001.png)
### 虚拟地址空间
不存在
 > 程序是一段代码，进程是运行的程序，加载到内存里面了，拥有虚拟地址空间
 ![](Pasted%20image%2020230224141847.png)

### 文件描述符
![](Pasted%20image%2020230224142339.png)
用来定位文件在磁盘上的位置。
文件描述符表默认大小1024，前三个默认打开绑定到当前终端文件。也就是进程中第一次操作文件，fd=3
## Linux IO函数
![](Pasted%20image%2020230224143018.png)
说明在man的第二章，c的在第三章
第一个函数是打开已存在的文件，第二个open是创建文件，返回文件描述符fd（int类型），发生错误返回-1
![](Pasted%20image%2020230224143720.png)
 perror输出最近的一个错误信息。
![](Pasted%20image%2020230224145321.png)
![](Pasted%20image%2020230224145941.png)
使用按位或，将两种选项都勾选。
linux调用失败一般返回-1.
read ：可以不阻塞
	![](Pasted%20image%2020230224152304.png)
write :
	![](Pasted%20image%2020230224152325.png)
lseek :
	![](Pasted%20image%2020230224154038.png)
	**作用：移动指针；获取当前指针的位置；获取文件长度；拓展文件长度第二个参数的单位是byte字节。**
	返回值：返回移动后最终指针所在位置。
 stat ：
	 作用：获取文件相关的信息（也是一个linux命令）写道statbuf中。
	 ![](Pasted%20image%2020230224155048.png)
## 文件属性操作函数
![](Pasted%20image%2020230224162348.png)
判断某个文件是否有某个权限或者是否存在
## 目录函数
![](Pasted%20image%2020230224163420.png)
![](Pasted%20image%2020230224163946.png)
- 如何实现遍历目录？
## fcntl函数

